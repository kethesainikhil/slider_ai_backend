AIzaSyDa11oqzOIOCj_9oAVkYqap2w7shCivuts


const { GoogleGenerativeAI } = require("@google/generative-ai");


// Access your API key as an environment variable (see "Set up your API key" above)
const genAI = new GoogleGenerativeAI("");






const email = [
    {
        "sender": "McLaren Plus <fans@email.racing.mclaren.com>",
        "emailId": "18ff6f6c56c74ee3",
        "body": "<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\r\n<html>\r\n  <head>\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\" />\r\n    <meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" />\r\n    <style type=\"text/css\">\r\n      ReadMsgBody{ width: 100%;}\r\n      .ExternalClass {width: 100%;}\r\n      .ExternalClass, .ExternalClass p, .ExternalClass span, .ExternalClass font, .ExternalClass td, .ExternalClass div {line-height: 100%;}\r\n      body {-webkit-text-size-adjust:100%; -ms-text-size-adjust:100%;margin:0 !important;}\r\n      p { margin: 1em 0;}\r\n      table td { border-collapse: collapse;}\r\n      img {outline:0;}\r\n      a img {border:none;}\r\n      @-ms-viewport{ width: device-width;}\r\n    </style>\r\n    <style type=\"text/css\">\r\n      @media only screen and (max-width: 480px) {\r\n        .container {width: 100% !important;}\r\n        .footer { width:auto !important; margin-left:0; }\r\n        .mobile-hidden { display:none !important; }\r\n        .logo { display:block !important; padding:0 !important; }\r\n        img { max-width:100% !important; height:auto !important; max-height:auto !important;}\r\n        .header img{max-width:100% !important;height:auto !important; max-height:auto !important;}\r\n        .photo img { width:100% !important; max-width:100% !important; height:auto !important;}\r\n        .drop { display:block !important; width: 100% !important; float:left; clear:both;}\r\n        .footerlogo { display:block !important; width: 100% !important; padding-top:15px; float:left; clear:both;}\r\n        .nav4, .nav5, .nav6 { display: none !important; }\r\n        .tableBlock {width:100% !important;}\r\n        .responsive-td {width:100% !important; display:block !important; padding:0 !important; }\r\n        .fluid, .fluid-centered {\r\n          width: 100% !important;\r\n          max-width: 100% !important;\r\n          height: auto !important;\r\n          margin-left: auto !important;\r\n          margin-right: auto !important;\r\n        }\r\n        .fluid-centered {\r\n          margin-left: auto !important;\r\n          margin-right: auto !important;\r\n        }\r\n        /* MOBILE GLOBAL STYLES - DO NOT CHANGE */\r\nbody, .tb_properties{font-family: Arial, Helvetica, sans-serif !important; font-size: 16px !important; color: #222222 !important; line-height: 1 !important; padding: 0px !important; }.buttonstyles{font-family: Arial, Helvetica, sans-serif !important; font-size: 16px !important; color: #FFFFFF !important; padding: 15px 30px !important; }h1{font-family: Arial, Helvetica, sans-serif !important; font-size: 22px !important; color: #222222 !important; line-height: 1.15 !important; }h2{font-family: Arial, Helvetica, sans-serif !important; font-size: 20px !important; color: #222222 !important; line-height: 1.15 !important; }h3{font-family: Arial, Helvetica, sans-serif !important; font-size: 18px !important; color: #222222 !important; line-height: 1.15 !important;\r\n }a:not(.buttonstyles){line-height: 1 !important; }.mobile-hidden{display: none !important; }.responsive-td {width: 100% !important; display: block !important; padding: 0 !important;}\r\n/* END OF MOBILE GLOBAL STYLES - DO NOT CHANGE */\r\n      }\r\n      @media only screen and (max-width: 640px) {\r\n        .container { width:100% !important; }\r\n        .mobile-hidden { display:none !important; }\r\n        .logo { display:block !important; padding:0 !important; }\r\n        .photo img { width:100% !important; height:auto !important;}\r\n        .nav5, .nav6 { display: none !important;}\r\n        .fluid, .fluid-centered {\r\n          width: 100% !important;\r\n          max-width: 100% !important;\r\n          height: auto !important;\r\n          margin-left: auto !important;\r\n          margin-right: auto !important;\r\n        }\r\n        .fluid-centered {\r\n          margin-left: auto !important;\r\n          margin-right: auto !important;\r\n        }\r\n      }\r\n    </style>\r\n    <!--[if mso]>       <style type=\"text/css\">           /* Begin Outlook Font Fix */               body, table, td {                  font-family : Arial, Helvetica, sans-serif;                  line-height : 100%;                  font-size : 16px;                  color : #222222;               }           /* End Outlook Font Fix */       </style>     <![endif]-->\r\n  </head>\r\n  <body bgcolor=\"#F2F2F2\" text=\"#000000\" style=\"-webkit-text-size-adjust:none;background-color : #F2F2F2; font-family : Arial, Helvetica, sans-serif; line-height : 100%; font-size : 16px; color : #222222; padding : 0px; \"><style type=\"text/css\">\r\ndiv.preheader \r\n{ display: none !important; } \r\n</style>\r\n<div class=\"preheader\" style=\"font-size: 1px; display: none !important;\">We appreciate that Father's Day can be a difficult time for our fans. If you'd like to mute Father's Day emails please let us know.</div>\r\n    <div style=\"font-size:0; line-height:0;\"><img src=\"https://click.email.racing.mclaren.com/open.aspx?ffcb10-fec81576756d037d-fe5f16727264007f731d-fe2f11737364047f721578-ff6015767d-fe5d177574670d7a7512-ff2f15787365&d=510003&bmt=0\" width=\"1\" height=\"1\" alt=\"\"></div>\r\n    <table width=\"100%\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" align=\"center\">\r\n      <tr>\r\n        <td align=\"center\" valign=\"top\">\r\n          \r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td align=\"center\">\r\n          <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" width=\"600\" class=\"container\" align=\"center\">\r\n            <tr>\r\n              <td>\r\n                <table class=\"tb_properties border_style\" style=\"background-color : #FFFFFF; border : 0px;font-size : 16px; font-family : Arial, Helvetica, sans-serif; line-height : 100%; color : #222222; \" cellspacing=\"0\" cellpadding=\"0\" bgcolor=\"#FFFFFF\" width=\"100%\">\r\n                  <tr>\r\n                    <td align=\"center\" valign=\"top\">\r\n                      <table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\r\n                        <tr>\r\n                          <!-- added padding here -->\r\n                          <td class=\"content_padding\" style=\"padding : 0px; \">\r\n                            <!-- end of comment -->\r\n                            <table border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\r\n                              <tr> <!-- top slot -->\r\n                                <td align=\"center\" class=\"header\" valign=\"top\">\r\n                                  <table align=\"left\" border=\"0\" cellpadding=\"0\" cellspacing=\"0\" width=\"100%\">\r\n                                    <tbody>\r\n                                        <tr>\r\n                                          <td align=\"left\" valign=\"top\">\r\n                                            <table cellspacing=\"0\" cellpadding=\"0\" style=\"width:100%\">\r\n                                              <tbody>\r\n                                              <tr>\r\n                                                <td class=\"responsive-td\" valign=\"top\" style=\"width: 100%;\">\r\n                                                  <table cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" role=\"presentation\" style=\"min-width: 100%; \" class=\"stylingblock-content-wrapper\"><tr><td class=\"stylingblock-content-wrapper camarker-inner\"><table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\"><tr><td align=\"center\"><img data-assetid=\"65342\" src=\"https://image.email.racing.mclaren.com/lib/fe2f11737364047f721578/m/1/cf55110c-58d7-429d-a56e-63312e054320.png\" alt=\"McLaren Racing\" width=\"100%\" style=\"display: block; padding: 0px; text-align: center; height: auto; width: 100%; border: 0px;\"></td></tr></table></td></tr></table><table cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" role=\"presentation\" style=\"background-color: transparent; min-width: 100%; \" class=\"stylingblock-content-wrapper\"><tr><td style=\"padding: 10px 40px 0px; \" class=\"stylingblock-content-wrapper camarker-inner\">\r\n<h1 style=\"color: rgb(34, 34, 34); font-family: Arial, Helvetica, sans-serif; font-size: 28px; font-style: normal; font-weight: bold; line-height: 1.15; text-align: center;\">\r\n\tWant to opt out of certain emails?</h1></td></tr></table><table cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" role=\"presentation\" style=\"background-color: transparent; min-width: 100%; \" class=\"stylingblock-content-wrapper\"><tr><td style=\"padding: 30px 40px 10px; \" class=\"stylingblock-content-wrapper camarker-inner\"><div style=\"text-align: center; line-height: 150%;\">\r\n\tWe appreciate that Father's Day can be a difficult time for our fans.<br>\r\n\t<br>\r\n\tTherefore, if you'd prefer not to receive our Father's Day emails next week, you can opt out by clicking below.</div></td></tr></table><table cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" role=\"presentation\" style=\"background-color: transparent; min-width: 100%; \" class=\"stylingblock-content-wrapper\"><tr><td style=\"padding: 30px; \" class=\"stylingblock-content-wrapper camarker-inner\"><table width=\"100%\" border=\"0\" cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\"><tr><td align=\"center\"><table border=\"0\" cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\"><tr><td class=\"innertd buttonblock\" bgcolor=\"#FF8000\" style=\" border-radius: 5px; -moz-border-radius: 5px; -webkit-border-radius: 5px; background-color: #FF8000;\">\r\n<a target=\"_blank\" class=\"buttonstyles\" style=\" font-size: 16px; font-family: Arial, Helvetica, sans-serif; color: #FFFFFF; text-align: center; text-decoration: none; display: block; background-color: #FF8000; border: 1px solid #FF8000; padding: 15px 30px; border-radius: 5px; -moz-border-radius: 5px; -webkit-border-radius: 5px;\" href=\"https://click.email.racing.mclaren.com/?qs=29b157cae784d9edbcf31c499b950d2b3dd884c6aed655ee31dce0c2c11ed472f3d4add3b9852debde4b58e86d73ac82bc2c71f1f64706f7088e8c16881fd1b8\" title=\"Opt Out\"   data-linkto=\"https://\">OPT OUT</a></td></tr></table></td></tr></table></td></tr></table><table cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" role=\"presentation\" style=\"min-width: 100%; \" class=\"stylingblock-content-wrapper\"><tr><td class=\"stylingblock-content-wrapper camarker-inner\"><table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\"><tr><td align=\"center\">\r\n<img data-assetid=\"64390\" src=\"https://image.email.racing.mclaren.com/lib/fe2f11737364047f721578/m/1/2147aca9-c556-4b39-90fd-0aa93c10470a.jpg\" alt=\"McLaren Racing\" width=\"100%\" style=\"display: block; padding: 0px; text-align: center; height: auto; width: 100%; border: 0px;\"></td></tr></table></td></tr></table><table cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" role=\"presentation\" style=\"background-color: transparent; min-width: 100%; \" class=\"stylingblock-content-wrapper\"><tr><td style=\"padding: 30px 5px 15px; \" class=\"stylingblock-content-wrapper camarker-inner\"><table cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\" style=\"width: 100%;\"><tr><td><table cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\" style=\"width: 100%;\"><tr><td valign=\"top\" style=\"width: 100%; padding-bottom: 3px;\"><table cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" role=\"presentation\" style=\"background-color: transparent; min-width: 100%; \" class=\"stylingblock-content-wrapper\"><tr>\r\n<td style=\"padding: 0px 0px 15px; \" class=\"stylingblock-content-wrapper camarker-inner\"><div style=\"text-align: center;\">\r\n\t<span style=\"font-size:20px;\">Download the McLaren App</span></div></td></tr></table></td></tr></table></td></tr><tr><td><table cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\" style=\"width: 100%;\"><tr><td valign=\"top\" style=\"width: 50%; padding-top: 3px; padding-right: 3px;\"><table cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" role=\"presentation\" style=\"min-width: 100%; \" class=\"stylingblock-content-wrapper\"><tr><td class=\"stylingblock-content-wrapper camarker-inner\"><table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\"><tr><td align=\"right\"><a style=\"font-weight:normal;color:#FF8000;text-decoration:underline;line-height:100%;\" href=\"https://click.email.racing.mclaren.com/?qs=29b157cae784d9ed061d49bc95dd167a2b6972d0aa0d601f3c64e5edb75021db1ca7effe0c0e674899db71789aa03128c5e76434adf3fd6a5f2b3909d2e033b5\" title=\"Download the McLaren App on Google Play\"   data-linkto=\"https://\">\r\n<img data-assetid=\"65234\" src=\"https://image.email.racing.mclaren.com/lib/fe2f11737364047f721578/m/1/6d8a7de5-9d01-4d34-ba54-ff1e38137f07.png\" alt=\"Download the McLaren App on Google Play\" height=\"53\" width=\"165\" style=\"display: block; padding: 0px 5px; text-align: right; height: 53px; width: 165px; border: 0px;\"></a></td></tr></table></td></tr></table></td><td valign=\"top\" style=\"width: 50%; padding-top: 3px; padding-left: 3px;\"><table cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" role=\"presentation\" style=\"min-width: 100%; \" class=\"stylingblock-content-wrapper\"><tr><td class=\"stylingblock-content-wrapper camarker-inner\"><table width=\"100%\" cellspacing=\"0\" cellpadding=\"0\" role=\"presentation\"><tr><td align=\"left\">\r\n<a style=\"font-weight:normal;color:#FF8000;text-decoration:underline;line-height:100%;\" href=\"https://click.email.racing.mclaren.com/?qs=29b157cae784d9ed904ef108d24bbbe6a92417d1fc2ca80f8a9e81304fc0c1a592f4887299e53842f4f5441fa9416ee99d5707e1aa75f76e342d2f3c96e05f6e\" title=\"Download the McLaren App on the App Store\"   data-linkto=\"https://\">\r\n<img data-assetid=\"65671\" src=\"https://image.email.racing.mclaren.com/lib/fe2f11737364047f721578/m/1/0e5f40f2-ab4b-4323-bbc0-05aa2dbc549f.png\" alt=\"Download the McLaren App on the App Store\" height=\"53\" width=\"165\" style=\"display: block; padding: 0px 5px; text-align: left; height: 53px; width: 165px; border: 0px;\"></a></td></tr></table></td></tr></table></td></tr></table></td></tr></table></td></tr></table><table cellpadding=\"0\" cellspacing=\"0\" width=\"100%\" role=\"presentation\" style=\"background-color: transparent; min-width: 100%; \" class=\"stylingblock-content-wrapper\"><tr><td style=\"padding: 30px; \" class=\"stylingblock-content-wrapper camarker-inner\"><p style=\"line-height: 150%; text-align: center;\">\r\n\t<span style=\"font-size:9px;\"><span style=\"font-family:Verdana,Geneva,sans-serif;\">Copyright 2024 - All rights reserved<br>\r\n\t<br>\r\n\t<br>\r\n\tPlease&nbsp;<b>DO NOT</b>&nbsp;reply to this email.&nbsp;</span></span></p><p style=\"line-height: 150%; text-align: center;\">\r\n</p><p style=\"line-height: 150%; text-align: center;\">\r\n\t<span style=\"font-size:9px;\"><span style=\"font-family:Verdana,Geneva,sans-serif;\">This email was sent by: McLaren Racing, McLaren Technology Centre, Chertsey Road, Woking, Surrey, GU21 4YH, United Kingdom. To ensure your McLaren emails get to you, please add <a alias=\"\" conversion=\"false\" data-linkto=\"mailto:\" href=\"mailto:fans@email.racing.mclaren.com?subject=\" style=\"color:#FF8000;text-decoration:underline;\" title=\"\"><span style=\"color:#ff8000;\">fans@email.racing.mclaren.com</span></a> to your address book or to the list of safe senders.<br>\r\n\t<br>\r\n\tIf you prefer to not receive emails from McLaren Racing, please&nbsp;<a   data-linkto=\"other\" href=\"https://click.email.racing.mclaren.com/?qs=29b157cae784d9ed8fcc67a3619391352f50a30243c6d8ac49aefcbd098090d481c224ec7cc0670c1fb7b40a163171db4c14f7333c709e023beca09f18a16619\" style=\"color:#FF8000;text-decoration:underline;\" title=\"\"><span style=\"color:#ff8000;\">click here</span></a></span></span></p><p style=\"text-align: center; line-height: 150%;\">\r\n</p></td></tr></table>\r\n\t\t\t\t\t\t\t\t\t\t\t\t  \r\n                                                </td>\r\n                                              </tr>\r\n                                              </tbody>\r\n                                            </table>\r\n                                          </td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                  </table>\r\n                                </td>\r\n                              </tr>\r\n                            </table>\r\n                          </td>\r\n                        </tr>\r\n                      </table>\r\n                    </td>\r\n                  </tr>\r\n                </table>\r\n              </td>\r\n            </tr>\r\n          </table>\r\n        </td>\r\n      </tr>\r\n      <tr>\r\n        <td valign=\"top\">\r\n          \r\n        </td>\r\n      </tr>\r\n    </table>\r\n  </body>\r\n</html>\r\n",
        "snippet": "We appreciate that Father&#39;s Day can be a difficult time for our fans. If you&#39;d like to mute Father&#39;s Day emails please let us know. Want to opt out of certain emails? We appreciate that",
        "subject": "Prefer not to hear about Father's Day?"
    },
]
const categories = {
    Important: "Emails that are personal or work-related and require immediate attention",
Promotions: "Emails related to sales, discounts, and marketing campaigns",
Social: "Emails from social networks, friends, and family",
Marketing: "Emails related to marketing, newsletters, and notifications",
Spam: "Unwanted or unsolicited emails.",
General: "If none of the above are matched , it will be categorized as use General"
}
// ...

// The Gemini 1.5 models are versatile and work with both text-only and multimodal prompts
const model = genAI.getGenerativeModel({ model: "gemini-1.5-flash"});

async function run() {
  const prompt = `${JSON.stringify(email)} \n\n classify the given email of having subject,snippet,sender,body into one of the following categories: ${JSON.stringify(categories)} strictly follow the rules donot overboard \n\n output: give me just the category `; 

  const result = await model.generateContent(prompt);
  const response = await result.response;
  const text = response.text();
  console.log(text);
}

run();
